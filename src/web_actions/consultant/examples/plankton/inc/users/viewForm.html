<script type="text/html" id="usersViewForm">
  <div class="d-block">
    <button @click="edit({name: 'Новый сотрудник', officeId: ''})" class="btn btn-default">
      <i class="bi bi-plus-lg fw-bold me-1"></i>
      Добавить
    </button>
  </div>
  <div v-for="e in planktons" :key="e.id" class="d-flex pt-3">
    <svg class="bd-placeholder-img flex-shrink-0 me-2 rounded" width="48" height="48"
         xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false">
      <title>Placeholder</title>
      <rect width="100%" height="100%" fill="#007bff"></rect>
    </svg>

    <div class="pb-3 mb-0 lh-sm border-bottom w-100">
      <div class="d-flex justify-content-between pb-1">
        <strong class="">{{e.name}}</strong>

        <div v-if="!e.deleting">
          <button @click="edit(e)" class="btn btn-default btn-xs mx-1"><i class="bi bi-pencil-square me-1"></i>Изменить</button>
          <button @click="remove(e)" class="btn btn-default btn-xs mx-1"><i class="bi bi-trash me-1"></i>Удалить</button>
        </div>

        <div v-if="e.deleting">
          <div class="spinner-border spinner-border-sm text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          Удаление...
        </div>
      </div>
      <span class="d-block">Офис: {{offices[e.officeId] || ('#' + e.officeId)}}</span>
    </div>
  </div>
  <plankton-users-edit-dialog></plankton-users-edit-dialog>
</script>
